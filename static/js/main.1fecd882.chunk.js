(this["webpackJsonpjson-edit"]=this["webpackJsonpjson-edit"]||[]).push([[0],{63:function(e,t,n){e.exports=n(76)},72:function(e,t,n){},75:function(e,t,n){},76:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(8),c=n.n(i),o=n(11),u=n(22),l=n(48),d="RECEIVE_JSON",s="REQUEST_JSON",f="INCREMENT_INDEX",m="DECREMENT_INDEX",E="UPDATE_FIELD",b="UPDATE_FILENAME";function O(){return{type:f}}function p(){return{type:m}}function j(e,t){return{type:E,field:e,value:t}}var g=Object(u.c)({editJSON:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoading:!1,name:"temp.json",data:[{a:"Hello",b:"World",c:"!!!!"},{a:"foo",b:"bar",c:"foobar"}],index:0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s:return Object.assign({},e,{isLoading:!0});case d:return Object.assign({},e,{data:t.payload,isLoading:!1,index:0});case f:return Object.assign({},e,{index:e.index+1});case m:return Object.assign({},e,{index:e.index-1});case b:return Object.assign({},e,{name:t.payload});case E:return Object.assign({},e,{data:e.data.map((function(n,a){return a===e.index&&(n[t.field]=t.value),n}))});default:return e}}}),v=[l.a];n(72);var h=n(16),N=n(114),y=n(110),x=n(77),w=n(50),S=n.n(w),k=n(49),J=n.n(k),C=function(e){var t=Object(a.useState)(!1),n=Object(h.a)(t,2),r=n[0],i=n[1];function c(t){t.key===e&&i(!0)}function o(t){t.key===e&&i(!1)}return Object(a.useEffect)((function(){return window.addEventListener("keydown",c),window.addEventListener("keyup",o),function(){window.removeEventListener("keydown",c),window.removeEventListener("keyup",o)}})),r},L=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.editJSON.data.length})),n=Object(o.c)((function(e){return e.editJSON.index})),i=Object(a.useState)(!1),c=Object(h.a)(i,2),u=c[0],l=c[1],d=Object(a.useState)(!1),s=Object(h.a)(d,2),f=s[0],m=s[1],E=C("ArrowLeft"),b=C("ArrowRight");return Object(a.useEffect)((function(){l(n+1<=t-1),m(n-1>=0)}),[n,t]),Object(a.useEffect)((function(){u&&b?u&&e(O()):f&&E&&f&&e(p())}),[E,b,u,f]),r.a.createElement(y.a,null,r.a.createElement(x.a,{disabled:n<=0,onClick:function(){return e(p())}},r.a.createElement(J.a,null)),r.a.createElement(x.a,{disabled:n>=t-1,onClick:function(){return e(O())}},r.a.createElement(S.a,null)))},R=n(14),I=n(115),T=n(116),B=n(122),D=n(117),A=n(120),F=n(119),X=n(52),_=n.n(X),W=n(53),U=n.n(W),M=n(124),P=Object(N.a)((function(e){return{card:{maxWidth:"100%",width:600,marginLeft:"auto",marginRight:"auto",marginTop:20},container:{display:"flex",flexWrap:"wrap"},textField:{margin:e.spacing(1),width:"100%"},subTextField:{margin:e.spacing(1),marginLeft:"auto",width:"90%"},iconButton:{padding:5},divider:{height:20,margin:4},inputRoot:{padding:"2px 4px",display:"flex",alignItems:"center",width:"100%"}}})),V=function(e){var t=e.data,n=P(),i=Object(o.b)(),c=Object(o.c)((function(e){return e.editJSON.name})),u=Object(a.useState)({}),l=Object(h.a)(u,2),d=l[0],s=l[1];return Object(a.useEffect)((function(){var e={};Object.keys(t).forEach((function(t){e[t]=!0})),s(e)}),[t]),r.a.createElement(I.a,{className:n.card},r.a.createElement(T.a,null,r.a.createElement(D.a,{className:n.title,color:"textSecondary",gutterBottom:!0},c),r.a.createElement("form",{className:n.container,noValidate:!0,autoComplete:"off"},Object.keys(t).map((function(e,a){return r.a.createElement("div",{className:n.inputRoot,key:a},r.a.createElement(B.a,{label:e,value:t[e],onChange:function(t){return function(e,t){i(j(e,t))}(e,t.target.value)},multiline:!0,className:n.textField,inputProps:{"aria-label":e},variant:"outlined",disabled:d[e]}),r.a.createElement(M.a,{title:"Redact entire field"},r.a.createElement(F.a,{className:n.iconButton,"aria-label":"redact all",onClick:function(){return function(e){i(j(e,"XXXXX"))}(e)}},r.a.createElement(_.a,null))),r.a.createElement(A.a,{className:n.divider,orientation:"vertical"}),r.a.createElement(M.a,{title:"Edit"},r.a.createElement(F.a,{className:n.iconButton,"aria-label":"directions",onClick:function(){return function(e){var t=Object.assign({},d,Object(R.a)({},e,!d[e]));s(t)}(e)}},r.a.createElement(U.a,null))))})))))},q=n(37),z=n.n(q),H=Object(N.a)((function(e){return{hidden:{display:"none"}}})),Q=function(){var e=new FileReader,t=Object(o.b)(),n=H();function a(n){e.onload=i;var a=n.target.files[0].name.match(/^.*(?=(\.json))/)[0]+"_REDACTED.json";t({type:b,payload:a}),e.readAsText(n.target.files[0])}function i(e){var n=JSON.parse(e.target.result).map((function(e){return z()(e)}));t({type:d,payload:n})}return r.a.createElement("div",null,r.a.createElement("input",{type:"file",onChange:function(e){return a(e)},id:"input",className:n.hidden}),r.a.createElement(x.a,{onClick:function(){document.querySelector("#input").click()},variant:"outlined"},"Upload"))},$=function(){var e=Object(o.c)((function(e){return e.editJSON.data})),t=Object(o.c)((function(e){return e.editJSON.name})),n=Object(a.useState)(""),i=Object(h.a)(n,2),c=i[0],u=i[1];return Object(a.useEffect)((function(){var t=e.map((function(e){return z.a.unflatten(e)}));u("data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(t)))}),[e]),r.a.createElement(x.a,{variant:"outlined",href:c,download:t},"Download")},G=n(121),K=Object(N.a)((function(e){return{root:{maxWidth:"100%",width:400,marginLeft:"auto",marginRight:"auto",marginTop:"20px",marginBottom:"20px"},text:{fontSize:"12px",color:"grey"}}})),Y=function(){var e=K(),t=Object(o.c)((function(e){return e.editJSON.index})),n=Object(o.c)((function(e){return e.editJSON.data.length}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(G.a,{variant:"determinate",value:(t+1)/n*100,className:e.root}),r.a.createElement("span",{className:e.text},"(",t+1," of ",n,")"))},Z=(n(75),Object(N.a)((function(e){return{fileButtons:{display:"flex",justifyContent:"center"}}})));var ee=function(){var e=Z(),t=Object(o.c)((function(e){return e.editJSON.data})),n=Object(o.c)((function(e){return e.editJSON.index})),i=Object(a.useState)(),c=Object(h.a)(i,2),u=c[0],l=c[1];return Object(a.useEffect)((function(){l(t[n])}),[n,t]),r.a.createElement("div",{className:"App"},r.a.createElement(L,null),r.a.createElement(Y,null),u&&r.a.createElement(V,{data:u}),t&&r.a.createElement("p",null,"Index: ",n),r.a.createElement("div",{className:e.fileButtons},r.a.createElement(Q,null),r.a.createElement($,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var te,ne=Object(u.d)(g,te,u.a.apply(void 0,v));c.a.render(r.a.createElement(o.a,{store:ne},r.a.createElement(ee,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[63,1,2]]]);
//# sourceMappingURL=main.1fecd882.chunk.js.map